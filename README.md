---
title: VitePress-Butterfly ä¸»é¢˜ README
date: 2024-05-20
author: 57Darling02
---

# VitePress-Butterfly ä¸»é¢˜

åŸºäºVitePresså’ŒElement Plusçš„å¡ç‰‡å¼ä»¿butterflyä¸»é¢˜ã€‚
ç»“åˆobsidianæˆä¸º**åŠ¨æ€åšå®¢**æ–¹æ¡ˆï¼

##  åŠŸèƒ½

- é™æ€åšå®¢ï¼Œä¸éœ€è¦æœåŠ¡å™¨ä¹Ÿèƒ½æœ‰è‡ªå·±çš„ä¸ªäººç½‘ç«™
- vitepresså®Œå–„çš„å·¥ä½œæµè‡ªåŠ¨æ„å»ºï¼Œåªéœ€è¦é¦–æ¬¡é…ç½®
- viteçš„é™æ€èµ„æºè‡ªåŠ¨ä¼˜åŒ–ï¼Œä¸éœ€è¦å›¾åºŠä¹Ÿèƒ½å¤Ÿæ’å…¥å›¾ç‰‡
## æ¦‚è§ˆ
å°†é™æ€åšå®¢å’Œæ–‡ç« åˆ†æˆä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªç”¨äºåšå®¢ä»“åº“é€šè¿‡å°†æ–‡ç« ä»“åº“ä½œä¸ºå­æ¨¡å—å¼•å…¥æ–‡ç« ã€‚åšå®¢ä»“åº“è´Ÿè´£åšå®¢ç½‘é¡µæ ·å¼é…ç½®ç­‰ï¼Œè€Œæ–‡ç« ä»“åº“ä»…ä»…ç”¨äºå­˜æ”¾è¦å‘å¸ƒçš„æ–‡ç« ã€‚


## æ³•ä¸€ï¼šå¿«é€Ÿä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªåšå®¢

### 1.è·å–æ¨¡æ¿
åˆ†åˆ«å°†ä¸‹é¢ä¸¤ä¸ªæ¨¡æ¿é¡¹ç›®forkåˆ°è‡ªå·±çš„ä»“åº“ï¼š

1. [57Darling02/blog-post(github.com)](https://github.com/57Darling02/blog-post)
2. [57Darling02/VitePress_butterfly(github.com)](https://github.com/57Darling02/VitePress_butterfly)


ç¬¬ä¸€ä¸ªç”¨äºå­˜æ”¾æ–‡ç« ï¼Œå¯ä»¥è®¾ä¸ºç§å¯†
ç¬¬äºŒä¸ªæ”¾ç½‘é¡µæºç ï¼Œå¿…é¡»å…¬å¼€ï¼Œæ¨èå‘½åä¸º`[ä½ çš„GITHUBè´¦å·.github.io]`


### 2.é…ç½®å˜é‡

##### åˆ›å»º GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆPATï¼‰

1. æ‰“å¼€ GitHub â†’ å³ä¸Šè§’å¤´åƒ â†’Â `Settings`Â â†’Â `Developer settings`Â â†’Â `Personal access tokens`Â â†’Â `Tokens (classic)`ï¼›
2. ç‚¹å‡»Â `Generate new token (classic)`ï¼›
3. é…ç½®ï¼š
    - `Note`ï¼šå¡«Â `blog-access`ï¼›
    - `Expiration`ï¼šé€‰Â `No expiration`ï¼ˆæˆ–æŒ‰éœ€è®¾ç½®ï¼‰ï¼›
    - `Scopes`ï¼šå‹¾é€‰Â `repo`ï¼ˆå…¨é€‰ repo ç›¸å…³æƒé™ï¼‰ï¼›
4. ç‚¹å‡»Â `Generate token`ï¼Œ**å¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ŒåŠ¡å¿…ä¿å­˜ï¼‰**ã€‚
##### é…ç½®ä¸¤ä¸ªä»“åº“çš„PATå’Œç›¸å…³å˜é‡
##### å°† PAT æ·»åŠ åˆ°ä»“åº“çš„ Secrets

1. ä»“åº“ â†’Â `Settings`Â â†’Â `Secrets and variables`Â â†’Â `Actions`Â â†’Â `New repository secret`ï¼›
2. `Name`ï¼šå¡«Â `PERSONAL_ACCESS_TOKEN`ï¼›
3. `Value`ï¼šç²˜è´´ç”Ÿæˆçš„ PATï¼›
4. ç‚¹å‡»Â `Add secret`ã€‚

ä¸¤ä¸ªä»“åº“ä¸­éƒ½æ·»åŠ é”®å€¼å¯¹
`PERSONAL_ACCESS_TOKEN` ä¸ºé”®ï¼Œå¯¹åº”å€¼ä¸º ç”Ÿæˆçš„PAT

å¦å¤–ï¼Œåœ¨æ–‡ç« ä»“åº“ä¸­æ·»åŠ ï¼š
`BLOG_REPO`ä¸ºé”®ï¼Œå¯¹åº”å€¼ä¸º "ç”¨æˆ·å/æºç ä»“åº“" å¦‚ï¼š
`[ä½ çš„GITHUBè´¦å·]/[ä½ çš„GITHUBè´¦å·].github.io`
æˆ–è€…
`57Darling02/VitePress_butterfly

åœ¨æºç ä»“åº“ä¸­æ·»åŠ ï¼š
`POST_REPO`ä¸ºé”®ï¼Œå¯¹åº”å€¼ä¸º "æ–‡ç« ä»“åº“é“¾æ¥" å¦‚ï¼š
`https://github.com/57Darling02/blog-post.git`

### 3.ä¿®æ”¹åšå®¢é…ç½®
åœ¨æºç ä»“åº“ä¸­æ‰¾åˆ°`site_config.ts`,copyä¸€ä»½åˆ°ä½ çš„æ–‡ç« ä»“åº“ï¼Œåœ¨ä¿®æ”¹`site_config.ts`å¯¹åšå®¢é¦–é¡µè¿›è¡Œè‡ªå®šä¹‰é…ç½®ã€‚
> æ–‡ç« ä»“åº“çš„`site_config.ts`ä¼šä¼˜å…ˆèµ·ä½œç”¨

å°†ç½‘ç«™å˜æˆä½ çš„å½¢çŠ¶ğŸ˜¤ä¿®æ”¹ site_config.tsè¿›è¡Œä¸»é¢˜é…ç½®ä¿¡æ¯ï¼Œæ›´æ”¹é¦–é¡µèƒŒæ™¯å›¾ã€ç½‘ç«™åç§°ã€ä¾§è¾¹æ ä¸ªäººä¿¡æ¯ç­‰ç­‰ã€‚



github pageä¸­æ”¹å˜éƒ¨ç½²æ¥æºä¸º action
![[é™„ä»¶/Pasted image 20251225014512.png]]
### 4.å°†æ–‡ç« ä»“åº“å…‹éš†åˆ°æœ¬åœ°å¹¶å†™ä½œ

githubè¿›å…¥æ–‡ç« ä»“åº“ä¸­ï¼Œå°†å…¶å…‹éš†åˆ°æœ¬åœ°
ä¾‹å¦‚ï¼š
```bash
git clone https://github.com/your-username/blog-post.git
cd blog-post
```

å†™å‡ºä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« 

```md
---
title: æ–‡ç« æ ‡é¢˜
date: 2024-03-20
author: ä½œè€…
layout: doc # è¿™è¡Œä¸å†™ä¹Ÿè¡Œï¼Œæ¶‰åŠåˆ°è‡ªå®šä¹‰é¡µé¢æ‰ä¼šæ¶‰åŠ
---

# Hello World!
è¿™æ˜¯ä¸€ç¯‡æ–‡ç« ï¼Œè›¤è›¤è›¤ï¼ï¼ï¼å¤–å¸å·´ä¼¯....

```


å†™å®Œä¹‹ågitä¸Šä¼ åˆ°githubå³å¯ã€‚
æ¨èä½¿ç”¨obsidianï¼Œå¯ä»¥ç›´æ¥åœ¨obsidianä¸­å°†å…‹éš†ä¸‹æ¥çš„æ–‡ç« ä»“åº“æ‰“å¼€ï¼Œå¹¶åˆ©ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶gitæ›´å¿«é€Ÿçš„ä¿®æ”¹æ–‡ç« ã€‚

> [!WARNING]
>  éœ€è¦é…ç½®obsidiançš„å†…éƒ¨é“¾æ¥ç±»å‹ä¸º **ç›¸å¯¹ä½ç½®**ï¼Œè°ƒæ•´ **é™„ä»¶ä½ç½®**

![[é™„ä»¶/Pasted image 20251225014058.png]]





### è‡ªå®šä¹‰åŸŸå
å®Œæˆä¹‹å‰çš„æ­¥éª¤åï¼Œ`[ä½ çš„GITHUBè´¦å·]/[ä½ çš„GITHUBè´¦å·].github.io`è¿™ä¸ªåŸŸååº”è¯¥å·²ç»å¯ç”¨ã€‚ä½†æ˜¯å¦‚æœä½ å¸Œæœ›ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼Œä¸‹é¢æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ã€‚

1. ä½¿ç”¨githubç›´æ¥è‡ªå®šä¹‰åŸŸåã€‚å¾ˆæ–¹ä¾¿ä¸éœ€è¦å…¶ä»–é…ç½®ã€‚
>[!WARNING]
>å¦‚æœéœ€è¦ä½¿ç”¨githubæ‰˜ç®¡å¤šä¸ªé™æ€ç½‘é¡µï¼Œè¿™ç§æ–¹æ³•æ— æ³•ç»‘å®šå¤šä¸ªåŸŸåã€‚
2. ä½¿ç”¨vercel+github action,å”¯ä¸€ç¼ºç‚¹å°±æ˜¯éœ€è¦ä¸ºvercelé¢å¤–é…ç½®ä¸€äº›å‚æ•°ã€‚



#### 1.ç›´æ¥ç”¨github
é…ç½®åŸŸå
![[é™„ä»¶/Pasted image 20251225014856.png]]
å°†åŸŸåçš„DNSæŒ‡å‘githubæä¾›çš„æœåŠ¡å™¨IPï¼Œå…·ä½“IPè¯·çœ‹ï¼š
[ç®¡ç† GitHub Pages ç«™ç‚¹çš„è‡ªå®šä¹‰åŸŸ - GitHub æ–‡æ¡£](https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site)

> [!TIPS]
> è™½ç„¶æ–‡æ¡£ä¸­å†™é¡¶çº§åŸŸåæ‰ç›´æ¥ç”¨AAAAæˆ–è€…Aè®°å½•ï¼Œå­åŸŸéœ€è¦ç”¨CNAMEï¼Œä½†å¦‚æœä½ åªæœ‰ä¸€ä¸ªgithub pageï¼Œé‚£ä¹ˆç›´æ¥ç»™å­åŸŸåæ·»åŠ Aæˆ–AAAAè®°å½•ä¹Ÿæ²¡é—®é¢˜ã€‚




#### 2.Verceléƒ¨ç½²
å¦‚æœè¦éƒ¨ç½²çš„ç½‘é¡µä¸æ­¢ä¸€ä¸ªï¼Œé‚£ä¹ˆä½ çš„github pageå°±æ— æ³•å°†ä¸åŒçš„é¡µé¢æ˜ å°„åˆ°ä¸åŒçš„åŸŸåä¸Šã€‚æ­¤æ—¶éœ€è¦å€ŸåŠ©verceléƒ¨ç½²ã€‚

æ¨¡æ¿çš„workflowä¸­è¿˜æœ‰ä¸€ä¸ª`vercel.yml`ï¼Œè¿˜éœ€è¦é¢å¤–é…ç½®ä¸‰ä¸ªå‚æ•°ã€‚
`VERCEL_ORG_ID` `VERCEL_PROJECT_ID` `VERCEL_TOKEN`

![[é™„ä»¶/Pasted image 20251225111143.png]]
[Two Ways to Find Vercel ORG_ID and PROJECT_ID (codenote.net)](https://codenote.net/en/posts/how-to-find-vercel-org-project-ids/)
ç®€å•æ¥è¯´ï¼š
1. åœ¨vercelä¸­é…ç½®token
2. å…³è”githubä»“åº“
3. è·å–`Project ID` å’Œ`Team ID`
	å¹¶å°†å®ƒä»¬åˆ†åˆ«é…ç½®ä¸º`VERCEL_TOKEN` `VERCEL_TOKEN`å’Œ`VERCEL_ORG_ID`
## ä¸»é¢˜æ›´æ–°

åœ¨æºç ä»“åº“ä¸­ç‚¹å‡»æ›´æ–°ä¸Šæ¸¸å³å¯


æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œï¼Œæ‰“å¼€æºç ä»“åº“ç»ˆç«¯æ‰§è¡Œ

```bash
git remote add upstream https://github.com/57Darling02/VitePress_butterfly.git

git fetch upstream
git checkout main
git reset --hard upstream/main
```


### ç›®å½•ç»“æ„

```plainText
Blog/                   # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ .vitepress/         # ä¸»é¢˜ç»„ä»¶ ä¸ä¼šä¸ºè¿™éƒ¨åˆ†æä¾›æ–‡æ¡£ (ä¸€èˆ¬ä¸ç”¨åŠ¨)
â”‚   â”œâ”€â”€ theme/
â”‚   â”œâ”€â”€ site_config.ts  # æ¨¡æ¿æ–‡ä»¶ï¼Œå¯ä»¥å¤åˆ¶åˆ°æ ¹ç›®å½•ä¸‹ä¿®æ”¹ä½¿ç”¨          
â”‚   â”œâ”€â”€ config.mjs   
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ ...   
â”œâ”€â”€ site_config.ts     # ç«™ç‚¹é…ç½® è‡ªå®šä¹‰çš„é…ç½®ï¼Œä¸»è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶æ¥é…ç½®ç«™ç‚¹ä¿¡æ¯
â”œâ”€â”€ posts/             # Markdownæ–‡ç« 
â”œâ”€â”€ public/            # é™æ€èµ„æº ä¾‹å¦‚èƒŒæ™¯å›¾ç‰‡ï¼Œä¾‹å¦‚ public/a.png åˆ™é…ç½®ä¸­å¯¹åº” /a.png
â””â”€â”€ package.json       # ä¾èµ–é…ç½® (ä¸€èˆ¬ä¸ç”¨åŠ¨)
```
### æ–‡ç« è§„èŒƒ

```markdown
---
title: æ–‡ç« æ ‡é¢˜
date: 2024-03-20
author: ä½œè€…
cover: url... 
layout: doc # å¯é€‰å¸ƒå±€
---
```
è´¡çŒ®
æ¬¢è¿è´¡çŒ®ä»£ç å’Œåé¦ˆé—®é¢˜ã€‚

